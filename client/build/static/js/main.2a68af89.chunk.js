(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/74-nauseated-face-2.d3d1e0e2.svg"},29:function(e,t,a){e.exports=a.p+"static/media/661-sparkles.a4586395.svg"},30:function(e,t,a){e.exports=a.p+"static/media/713-open-book.de4934a3.svg"},31:function(e,t,a){e.exports=a.p+"static/media/406-heart-with-ribbon.b142cd3d.svg"},34:function(e,t,a){e.exports=a.p+"static/media/undraw_absorbed.e154de50.svg"},38:function(e,t,a){e.exports=a(93)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(27),l=a.n(r),i=(a(43),a(7)),c=a(8),o=a(10),u=a(9),m=a(11),h=a(1),d=a(13),p=(a(44),a(28)),f=a.n(p),w=a(29),E=a.n(w),b=a(30),g=a.n(b),v=a(31),y=a.n(v);var k=function(){return s.a.createElement("div",{className:"features"},s.a.createElement("h1",null,"Features"),s.a.createElement("p",null,"Kalrav is packed with exciting features!"),s.a.createElement("div",{className:"featureSet"},s.a.createElement("div",{className:"feature"},s.a.createElement("img",{src:f.a,alt:""}),s.a.createElement("h2",null,"Don't Nauseate"),s.a.createElement("p",null,"We only display content that matters, the actual tweets that is.")),s.a.createElement("div",{className:"feature"},s.a.createElement("img",{src:E.a,alt:""}),s.a.createElement("h2",null,"Clean & Minimal"),s.a.createElement("p",null,"Everything is there for a reason and that reason is you.")),s.a.createElement("div",{className:"feature"},s.a.createElement("img",{src:g.a,alt:""}),s.a.createElement("h2",null,"Reading Experience"),s.a.createElement("p",null,"With only you and the tweets, there is a great reading experience!")),s.a.createElement("div",{className:"feature"},s.a.createElement("img",{src:y.a,alt:""}),s.a.createElement("h2",null,"Created with ",s.a.createElement("i",{className:"icon-heart"})),s.a.createElement("p",null,"We have worked hard to provide this excellent expereince to you!"))))};a(45);var N=function(){return s.a.createElement("footer",{className:"Footer"},s.a.createElement("div",{className:"logo"},s.a.createElement("h1",null,"Kalrav"),s.a.createElement("p",null,"\xa9 2019 xypnox")),s.a.createElement("div",{className:"footer-links"},s.a.createElement(h.b,{to:"/login"},"Login"),s.a.createElement(h.b,{to:"/about"},"About"),s.a.createElement("a",{href:"https://github.com/xypnox/kalrav/"},"Github Repo")))},S=(a(54),a(34)),T=a.n(S);var j=function(){return s.a.createElement("div",{className:"home container"},s.a.createElement("header",null,s.a.createElement("div",{className:"intro"},s.a.createElement("div",null,s.a.createElement("h1",null,"Kalrav"),s.a.createElement("h2",null,"A tweet app"),s.a.createElement(h.b,{to:"/login",className:"action-button"},"Get Started")),s.a.createElement("img",{src:T.a,alt:"Reading Content",srcSet:""})),s.a.createElement("div",{className:"know-more"},s.a.createElement("p",null,"Know More"),s.a.createElement("p",null,s.a.createElement("i",{className:"icon-down-open"})))),s.a.createElement("div",{className:"problems"},s.a.createElement("h1",null,"Problem"),s.a.createElement("h2",null,"Twitter isnt the same anymore!"),s.a.createElement("p",null,"When Twitter started its humble beginnings, it was just a simple app to compose tweets of 140 characters. But as days went by, several new features ( or ",s.a.createElement("em",null,"distractions")," ) were added to Twitter. With the increasing number of distractions such as Images, Links, Advertisemnts, etc. The vanilla Twitter experience faded. Gone were the witty, sharp and funny tweets."),s.a.createElement("p",null,"Kalrav is an attempt to restore Twitter back to it's glory days!")),s.a.createElement(k,null),s.a.createElement("div",{className:"btn-below"},s.a.createElement("h1",null," What are you waiting for? "),s.a.createElement(h.b,{to:"/login",className:"action-button"},"Get Started")),s.a.createElement(N,null))},O=a(35);a(55);var x=function(e){var t=null!==e.user?[s.a.createElement("li",{className:"appName",key:0,onClick:e.clickFunc},s.a.createElement(h.b,{to:"/feed"},"Kalrav")),s.a.createElement("li",{key:1},s.a.createElement("button",{type:"button",onClick:function(){e.logoutUser().then(e.history.push("/"))}},"Logout")),s.a.createElement("li",{key:2},s.a.createElement(h.b,{to:"/about"},"About"))]:[s.a.createElement("li",{className:"appName",key:5},s.a.createElement(h.b,{to:"/"},"Kalrav")),s.a.createElement("li",{key:6},s.a.createElement(h.b,{to:"/Login"},"Login")),s.a.createElement("li",{key:7},s.a.createElement(h.b,{to:"/about"},"About"))];return s.a.createElement("nav",{className:"navbar"},s.a.createElement("ul",{className:"Navlinks"},t))},C=a(12),R=a.n(C),U=(a(75),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a.handleLogin=function(e){e.preventDefault(),R.a.get("/api/auth/twitter/url").then(function(e){e&&(a.setState({showPinbox:!0}),window.open("".concat(e.data.url),"_blank"))})},a.handleSubmit=function(e){e.preventDefault(),a.setState({showForm:!1}),null!==a.state.pin&&a.props.loginUser(a.state.pin)},a.state={showForm:!1,showPinbox:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){!1===this.props.loginUser()&&this.setState({showForm:!0})}},{key:"render",value:function(){var e=this;if(this.props.user)return s.a.createElement(d.a,{to:"/feed"});var t=this.state.showPinbox;return s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"container"},s.a.createElement(x,{user:this.props.user,logoutUser:this.props.logoutUser,history:this.props.history}),s.a.createElement("h1",null,"Login"),this.state.showForm?s.a.createElement("form",{onSubmit:function(a){t?e.handleSubmit(a):e.handleLogin(a)}},this.state.showPinbox?s.a.createElement("input",{type:"text",placeholder:"PIN provided by Twitter",id:"pin",onChange:this.handleChange}):" ",s.a.createElement("button",{type:"submit",className:"action-button"},"Login via ",s.a.createElement("i",{className:"icon-twitter"}))):"Trying to Login",s.a.createElement(N,null)))}}]),t}(n.Component)),L=a(37),_=(a(76),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(){a.setState({isActive:!0})},a.handleChange=function(e){a.setState({content:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),null!==a.state.content&&a.props.addTweet({content:a.state.content}),a.setState({isActive:!1,content:null})},a.state={isActive:!1,content:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.isActive?s.a.createElement("div",{className:"tweetbtn active"},s.a.createElement("i",{className:"icon-vector-pencil"}),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("textarea",{rows:"5",placeholder:"Tweet Something?",autoFocus:!0,onChange:this.handleChange}),s.a.createElement("button",{type:"submit",className:"action-button"},"Tweet"))):s.a.createElement("div",{className:"tweetbtn",onClick:this.handleClick},s.a.createElement("i",{className:"icon-vector-pencil"}),s.a.createElement("p",null,this.props.placeholder))}}]),t}(n.Component));_.defaultProps={placeholder:"Tweet Something ?"};var A=_,I=(a(77),a(36)),F=a.n(I),W=(a(90),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleClickReply=function(e){a.state.showReply?a.setState({showReply:!1}):a.setState({showReply:!0})},a.handleClickLike=function(e){a.state.isLiked?R.a.get("/api/like/remove/".concat(a.props.tweet.id_str)).then(function(e){200===e.status&&a.setState({isLiked:!1})}):R.a.get("/api/like/".concat(a.props.tweet.id_str)).then(function(e){200===e.status&&a.setState({isLiked:!0})})},a.handleClickRetweet=function(e){a.state.isRetweet?a.setState({isRetweet:!1}):a.setState({isRetweet:!0})},a.addTweet=function(e){a.state.showReply&&a.setState({showReply:!1})},a.state={isLiked:!1,showReply:!1,isRetweet:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.tweet,t=e.text,a=this.state.showReply?s.a.createElement(A,{placeholder:"Reply to this tweet",addTweet:this.addTweet}):s.a.createElement("div",null);e.entities.media&&(t=e.text.substring(0,e.text.length-23));var n=this.state.isLiked?"isLiked":"",r=this.state.showReply?"isReply":"",l=this.state.isRetweet?"isRetweet":"";return s.a.createElement("div",{className:"Tweet",key:"tweet-".concat(e.id)},s.a.createElement("div",{className:"author"},e.user.name),s.a.createElement(F.a,{properties:{target:"_blank"}},s.a.createElement("div",{className:"content"},t)),e.entities.media?s.a.createElement("div",{className:"media"},s.a.createElement("img",{src:e.entities.media[0].media_url,alt:""})):null,s.a.createElement("div",{className:"tweetActions"},s.a.createElement("button",{type:"button",onClick:this.handleClickLike,className:n},s.a.createElement("i",{className:"icon-heart"})),s.a.createElement("button",{type:"button",onClick:this.handleClickRetweet,className:l},s.a.createElement("i",{className:"icon-retweet-1"})),s.a.createElement("button",{type:"button",onClick:this.handleClickReply,className:r},s.a.createElement("i",{className:"icon-comment"})),a))}}]),t}(n.Component));var K=function(e){var t=e.tweets,a=e.fetchTweets,n=t?t.map(function(e){return s.a.createElement(W,{key:e.id,tweet:e})}):s.a.createElement("p",null,"The Tweet feed seems to be empty");return s.a.createElement("div",{className:"TweetFeed-wrapper"},s.a.createElement("div",{className:"TweetFeed"},n),s.a.createElement("div",{className:"MoreTweets"},s.a.createElement("button",{className:"action-button",onClick:a},"Get More Tweets")))},M=(a(91),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).fetchTweets=function(e){var t=JSON.parse(localStorage.getItem("tweets"));e?fetch("/api/tweets".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({tweets:e.tweets})}).finally():t?a.setState({tweets:t}):fetch("/api/tweets").then(function(e){return e.json()}).then(function(e){a.setState({tweets:e.tweets}),localStorage.setItem("tweets",JSON.stringify(e.tweets))}).finally()},a.refreshTweets=function(){localStorage.setItem("tweets",null),a.fetchTweets()},a.addTweet=function(e){e.author=a.props.user.username,e.id=Math.random();var t=a.state.tweets,n=t.length?[e].concat(Object(L.a)(t)):t;a.setState({tweets:n})},a.state={tweets:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchTweets()}},{key:"render",value:function(){return this.props.user?s.a.createElement("div",{className:"feed container"},s.a.createElement(x,{user:this.props.user,clickFunc:this.refreshTweets,logoutUser:this.props.logoutUser,history:this.props.history}),s.a.createElement(A,{addTweet:this.addTweet}),this.state.tweets?s.a.createElement(K,{tweets:this.state.tweets,fetchTweets:this.fetchTweets}):"Fetching Tweets..."):s.a.createElement(d.a,{to:"/login"})}}]),t}(n.Component));a(92);var P=function(e){var t=e.user,a=e.logoutUser,n=e.history;return s.a.createElement("div",{className:"about container"},s.a.createElement(x,{user:t,logoutUser:a,history:n}),s.a.createElement("h1",null,"About Us"),s.a.createElement("p",null,"When Twitter started its humble beginnings, it was just a simple app to compose tweets of 140 characters. But as days went by, several new features ( or ",s.a.createElement("em",null,"distractions")," ) were added to Twitter. With the increasing number of distractions such as Images, Links, Advertisemnts, etc. The vanilla Twitter experience faded. Gone were the witty, sharp and funny tweets."),s.a.createElement("p",null,"Kalrav is an attempt to restore Twitter back to it's glory days!"),s.a.createElement("div",{className:"btn-below"},s.a.createElement(h.b,{to:"/login",className:"action-button"},"Get Started")),s.a.createElement(N,null))},G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){fetch("/api/").then(function(e){return e.json()}).then(function(e){return a.setState({data:e})})},a.loginUser=function(e){if(null==a.state.user&&null!=e)R.a.post("/api/auth/twitter/login",{pin:e}).then(function(e){localStorage.setItem("access_token",e.data.token),localStorage.setItem("access_secret",e.data.secret)}).finally(function(){R.a.get("/api/get/user").then(function(e){a.setState({user:{username:e.data.username,profileImage:e.data.profile_image_url}})})});else if(null==a.state.user){var t=localStorage.getItem("access_token"),n=localStorage.getItem("access_secret");if(!n||!t)return!1;R.a.post("/api/auth/twitter/set",{token:t,secret:n}).then(function(e){}).finally(function(){R.a.get("/api/get/user").then(function(e){a.setState({user:{username:e.data.username,profileImage:e.data.profile_image_url}})})})}},a.logoutUser=function(){var e=a.state.user;return new Promise(function(){e&&(a.setState({user:null}),localStorage.clear())})},a.state={user:null,data:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.user;t.data;return s.a.createElement(h.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(d.b,{exact:!0,path:"/",component:j}),s.a.createElement(d.b,{exact:!0,path:"/login",render:function(t){return s.a.createElement(U,Object.assign({},t,{user:a,loginUser:e.loginUser,logoutUser:e.logoutUser}))}}),s.a.createElement(d.b,{exact:!0,path:"/feed",render:function(t){return s.a.createElement(M,Object.assign({},t,{user:a,logoutUser:e.logoutUser}))}}),s.a.createElement(d.b,{exact:!0,path:"/about",render:function(t){return s.a.createElement(P,Object.assign({},t,{user:a,logoutUser:e.logoutUser}))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.2a68af89.chunk.js.map